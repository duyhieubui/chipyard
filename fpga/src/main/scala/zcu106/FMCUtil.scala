package chipyard.fpga.zcu106

import scala.collection.immutable.HashMap

// TODO: was typed by hand, so this needs a once-over before it can be considered trustworthy

object FMCMap {
    // Take an FMC pin name and return the ZCU106 package pin
    // See https://www.xilinx.com/support/documents/boards_and_kits/zcu106/ug1244-zcu106-eval-bd.pdf
    // Pages 110-114
    // Omitted pins are not connected to a GPIO
    def apply(fmcPin: String): String = HashMap(
      // "C2" -> "AJ6",
      // "C3" -> "AJ5",
      // "C6" -> "AK4",
      // "C7" -> "AK3",
      "C10" -> "H21",
      "C11" -> "H22",
      "C14" -> "F22",
      "C15" -> "E22",
      "C18" -> "D20",
      "C19" -> "D21",
      "D8" -> "E24",
      "D9" -> "D24",
      "D11" -> "G25",
      "D12" -> "G26",
      "D14" -> "G20",
      "D15" -> "F20",
      "D17" -> "C21",
      "D18" -> "C22",
      "G6" -> "B18",
      "G7" -> "B19",
      "G9" -> "J21",
      "G10" -> "J22",
      "G12" -> "J25",
      "G13" -> "H26",
      "G15" -> "E19",
      "G16" -> "D19",
      "G18" -> "C18",
      "G19" -> "C19",
      "H4" -> "F23",
      "H5" -> "E23",
      "H7" -> "K22",
      "H8" -> "K23",
      "H10" -> "J24",
      "H11" -> "H24",
      "H13" -> "D22",
      "H14" -> "C23",
      "H16" -> "A20",
      "H17" -> "A21",
      "H19" -> "A18",
      "H20" -> "A19"
    )(fmcPin)
}

object FMCPMap {
    // Take an FMC+ pin name and return the ZCU106 package pin
    // See https://www.xilinx.com/support/documents/boards_and_kits/zcu106/ug1244-zcu106-eval-bd.pdf
    // Pages 105-108
    // Omitted pins are not connected to a GPIO
    def apply(fmcpPin: String): String = HashMap(
      // "A2" -> "U2",
      // "A3" -> "U1",
      // "A6" -> "P4",
      // "A7" -> "P3",
      // "A10" -> "V4",
      // "A11" -> "V3",
      // "A14" -> "G2",
      // "A15" -> "G1",
      // "A18" -> "L2",
      // "A19" -> "L1",
      // "A22" -> "T4",
      // "A23" -> "T3",
      // "A26" -> "N6",
      // "A27" -> "N5",
      // "A30" -> "U6",
      // "A31" -> "U5",
      // "A34" -> "H4",
      // "A35" -> "H3",
      // "A38" -> "L6",
      // "A39" -> "L5",
      // "B12" -> "J2",
      // "B13" -> "J1",
      // "B16" -> "N2",
      // "B17" -> "N1",
      // "B20" -> "T8",
      // "B21" -> "T7",
      // "B32" -> "K4",
      // "B33" -> "K3",
      // "B36" -> "M4",
      // "B37" -> "M3",
      "C10" -> "H19",
      "C11" -> "G19",
      "C14" -> "L15",
      "C15" -> "K15",
      "C18" -> "C13",
      "C19" -> "C12",
      "C22" -> "D11",
      "C23" -> "D10",
      "C26" -> "A8",
      "C27" -> "A7",
      "D8" -> "H18",
      "D9" -> "H17",
      "D11" -> "K17",
      "D12" -> "J17",
      "D14" -> "H16",
      "D15" -> "G16",
      "D17" -> "G15",
      "D18" -> "F15",
      "D20" -> "F11",
      "D21" -> "E10",
      "D23" -> "B11",
      "D24" -> "A11",
      "D26" -> "B9",
      "D27" -> "B8",
      "G2" -> "G10",
      "G3" -> "F10",
      "G6" -> "F17",
      "G7" -> "F16",
      "G9" -> "K19",
      "G10" -> "K18",
      "G12" -> "E18",
      "G13" -> "E17",
      "G15" -> "G18",
      "G16" -> "F18",
      "G18" -> "D17",
      "G19" -> "C17",
      "G21" -> "F12",
      "G22" -> "E12",
      "G24" -> "H13",
      "G25" -> "H12",
      "G27" -> "C7",
      "G28" -> "C6",
      "G30" -> "K10",
      "G31" -> "J10",
      "G33" -> "F7",
      "G34" -> "E7",
      "G36" -> "C9",
      "G37" -> "C8",
      "H4" -> "E15",
      "H5" -> "E14",
      "H7" -> "L20",
      "H8" -> "K20",
      "H10" -> "L17",
      "H11" -> "L16",
      "H13" -> "J16",
      "H14" -> "J15",
      "H16" -> "A13",
      "H17" -> "A12",
      "H19" -> "D16",
      "H20" -> "C16",
      "H22" -> "D12",
      "H23" -> "C11",
      "H25" -> "B10",
      "H26" -> "A10",
      "H28" -> "B6",
      "H29" -> "A6",
      "H31" -> "M13",
      "H32" -> "L13",
      "H34" -> "E9",
      "H35" -> "D9",
      "H37" -> "F8",
      "H38" -> "E8"
    )(fmcpPin)
}
